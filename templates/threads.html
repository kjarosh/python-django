{% extends 'base.html' %}
{% load humanize %}
{% block title %}Thread list{% endblock %}

{% block content %}
	{% if section %}
		<h3 class="section-name">{{ section.name }}
			<span class="new-thread"><a href="/newthread/?sid={{ section.id }}">new thread</a></span></h3>
		<span class="section-desc">{{ section.description }}</span>
	{% else %}
		<h3>Global Thread List</h3>
	{% endif %}
	
	<table class="thread-list">
		{% if threads %}
			<tr class="thread-entry-head"><th>Title</th><th>Author</th><th>Activity</th></tr>
		{% endif %}
		
		{% for thread in threads %}
		<tr class="thread-entry">
			<td class="thread-entry-title"><a href="/threads/{{ thread.id }}">{{ thread.title }}</a></td>
			<td class="thread-entry-author">{{ thread.author }}</td>
				<td class="thread-entry-date">{{ thread.datetime|naturaltime }}</td>
		</tr>
		{% empty %}
			No threads.
		{% endfor %}
	</table>
	
	{% if request.GET.page|add:'0' > 0 %}
		<a href="?page={{ request.GET.page|add:'-1' }}">&larr; Previous page</a>
	{% endif %}
	
	{% if more %}
		<div style="float:right">
			<a href="?page={{ request.GET.page|add:'1' }}">Next page &rarr;</a>
		</div>
	{% endif %}
{% endblock %}
